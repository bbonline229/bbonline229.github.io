{"title":"Closure in Swift 5 - Part 1 (èªæ³•èˆ‡åŒ–ç°¡)","date":"2019-05-18T11:48:07.000Z","link":"2019/05/18/closure1","tags":["swift"],"updated":"2019-08-01T04:25:24.258Z","content":"<h3 id=\"Hello-é–‰åŒ…\"><del>Hello, é–‰åŒ… !</del><a href=\"2019/05/18/closure1#Hello-é–‰åŒ…\"></a></h3><h2 id=\"Hello-Closure-ğŸ˜\">Hello, Closure ğŸ˜!<a href=\"2019/05/18/closure1#Hello-Closure-ğŸ˜\"></a></h2><blockquote>\n<p>Closures are self-contained blocks of functionality that can be passed around and used in your code. - Swift Programming Guide</p>\n</blockquote>\n<br>\n\n<p>Closure ç°¡å–®ä¾†èªªå°±æ˜¯åŒ¿åçš„ function, è‡ªåŒ…å«çš„åŠŸèƒ½å€å¡Šå¯ç•¶åƒæ•¸è¢«å‚³é<br>ä¹Ÿå¯ä»¥æŒ‡å®šåˆ°ä¸€å€‹è®Šæ•¸, åƒ function ä¸€æ¨£è¢«å‘¼å«<br>çœ‹èµ·ä¾†å¥½åƒè·Ÿ function å·®ä¸å¤š, ä¸é closure æœ‰è¨±å¤šç‰¹è‰²<br>å…¶ä¸­ä¸€å€‹å°±æ˜¯è®“å¯«æ³•çœ‹èµ·ä¾†æ›´ç°¡æ½”</p>\n<p>å¦å¤–å®˜æ–¹æ–‡æª”æœ‰æåˆ° global functions å’Œ nested functions ä¹Ÿæ˜¯ closure çš„<br>ä¸€ç¨®, ç®—æ˜¯ä¸€ç¨®ç‰¹ä¾‹</p>\n<br>\n\n<h1 id=\"Function-è·Ÿ-Closure-èªæ³•ä¸Šçš„å·®åˆ¥\">Function è·Ÿ Closure èªæ³•ä¸Šçš„å·®åˆ¥<a href=\"2019/05/18/closure1#Function-è·Ÿ-Closure-èªæ³•ä¸Šçš„å·®åˆ¥\"></a></h1><h2 id=\"Function-èªæ³•\"><mark> Function èªæ³• </mark><a href=\"2019/05/18/closure1#Function-èªæ³•\"></a></h2><p><img src=\"/2019/05/18/closure1/function.png\" alt class=\"article-img\"></p>\n<figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">sum</span><span class=\"params\">(num1: Int, num2: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> sum = num1 + num2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h2 id=\"Closure-èªæ³•\"><mark>Closure èªæ³•</mark><a href=\"2019/05/18/closure1#Closure-èªæ³•\"></a></h2><h3 id=\"å»æ‰-func-é—œéµå­—-åç¨±-ç”¨å¤§æ‹¬è™Ÿæ‹¬èµ·ä¾†-ä»¥-in-é—œéµå­—å€éš”\">(å»æ‰ func é—œéµå­—, åç¨±, ç”¨å¤§æ‹¬è™Ÿæ‹¬èµ·ä¾†, ä»¥ in é—œéµå­—å€éš”)<a href=\"2019/05/18/closure1#å»æ‰-func-é—œéµå­—-åç¨±-ç”¨å¤§æ‹¬è™Ÿæ‹¬èµ·ä¾†-ä»¥-in-é—œéµå­—å€éš”\"></a></h3><p><img src=\"/2019/05/18/closure1/closure.png\" alt class=\"article-img\"></p>\n<figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åƒ…ç¤ºç¯„, closure ä¸èƒ½å–®ç¨å¯«</span></span><br><span class=\"line\">&#123; (num1: <span class=\"type\">Int</span>, num2: <span class=\"type\">Int</span>) -&gt; <span class=\"type\">Int</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> sum = num1 + num2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<br>\n## â€»Function Type (è »é‡è¦çš„, ä»¥å¾Œæœƒå¾ˆå¸¸é‡åˆ°)\n### <u>ä¸ç®¡æ˜¯ closure æˆ– function éƒ½æœƒæœ‰è‡ªå·±æ˜ç¢ºçš„ function type</u>\n\n<br>\n\n<p><strong>Function Type = (ParameterType) -&gt; ReturnType</strong></p>\n<h3 id=\"e-g\">e.g.<a href=\"2019/05/18/closure1#e-g\"></a></h3><p>Function Type: <strong>(Int, Int) -&gt; Double</strong></p>\n<figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">avg</span><span class=\"params\">(num1: Int, num2: Int)</span></span> -&gt; <span class=\"type\">Double</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//... </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<p>Function Type: <strong>(String) -&gt; Void</strong> or <strong>(String) -&gt; ()</strong></p>\n<figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; (name: <span class=\"type\">String</span>) -&gt; <span class=\"type\">Void</span> <span class=\"keyword\">in</span> </span><br><span class=\"line\">    <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h3 id=\"å‘¼å«-Function\">å‘¼å« Function<a href=\"2019/05/18/closure1#å‘¼å«-Function\"></a></h3><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">sum</span><span class=\"params\">(num1: Int, num2: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> sum = num1 + num2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">sum(num1: <span class=\"number\">5</span>, num2: <span class=\"number\">10</span>) <span class=\"comment\">// Function å‘¼å«æ™‚, åƒæ•¸å¤–éƒ¨åéœ€å¯«é€²å»</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h3 id=\"å°‡-Closure-å‚³å…¥è®Šæ•¸å¾Œ-åƒ-Function-ä¸€æ¨£è¢«å‘¼å«-æœƒçœç•¥åˆ°å¤–éƒ¨å\">å°‡ Closure å‚³å…¥è®Šæ•¸å¾Œ, åƒ Function ä¸€æ¨£è¢«å‘¼å«, æœƒçœç•¥åˆ°å¤–éƒ¨å<a href=\"2019/05/18/closure1#å°‡-Closure-å‚³å…¥è®Šæ•¸å¾Œ-åƒ-Function-ä¸€æ¨£è¢«å‘¼å«-æœƒçœç•¥åˆ°å¤–éƒ¨å\"></a></h3><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> sum: (<span class=\"type\">Int</span>, <span class=\"type\">Int</span>) -&gt; <span class=\"type\">Int</span>   <span class=\"comment\">// å®£å‘Šä¸€å€‹sum, function type (Int, Int) -&gt; Int</span></span><br><span class=\"line\"></span><br><span class=\"line\">    sum = &#123; (num1: <span class=\"type\">Int</span>, num2: <span class=\"type\">Int</span>) -&gt; <span class=\"type\">Int</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> sum = num1 + num2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">sum(<span class=\"number\">5</span>, <span class=\"number\">10</span>) <span class=\"comment\">// å°‡ closure å‚³å…¥ sum è®Šæ•¸å†å‘¼å«, çœç•¥æ‰äº†åƒæ•¸å¤–éƒ¨å</span></span><br></pre></td></tr></table></div></figure>\n\n<h3 id=\"â¬‡ï¸-Closure-ç™¼æ®ç°¡åŒ–åŠŸåŠ›å¾ŒğŸ™€\">â¬‡ï¸ Closure ç™¼æ®ç°¡åŒ–åŠŸåŠ›å¾ŒğŸ™€<a href=\"2019/05/18/closure1#â¬‡ï¸-Closure-ç™¼æ®ç°¡åŒ–åŠŸåŠ›å¾ŒğŸ™€\"></a></h3><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> sum: (<span class=\"type\">Int</span>, <span class=\"type\">Int</span>) -&gt; <span class=\"type\">Int</span> = &#123; $<span class=\"number\">0</span> + $<span class=\"number\">1</span> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">sum(<span class=\"number\">5</span>, <span class=\"number\">10</span>) <span class=\"comment\">// å°‡ closure å‚³å…¥ sum è®Šæ•¸å†å‘¼å«, çœç•¥æ‰äº†åƒæ•¸å¤–éƒ¨å</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<hr>\n<h2 id=\"Closure-å¯ä»¥è®“èªå¥å¯«æ³•æ›´ç°¡æ½”\">Closure å¯ä»¥è®“èªå¥å¯«æ³•æ›´ç°¡æ½”<a href=\"2019/05/18/closure1#Closure-å¯ä»¥è®“èªå¥å¯«æ³•æ›´ç°¡æ½”\"></a></h2><p><strong>1. Inferring parameter and return value types from context</strong></p>\n<p><strong>2. Implicit return from single-expression closures</strong></p>\n<p><strong>3. Shorthand argument names</strong></p>\n<p><strong>4. Trailing closure syntax</strong></p>\n<br>\n\n<h3 id=\"âœ”ï¸-ä»¥ä¸‹ç·´ç¿’ä¸€å€‹ä¾‹å­-æœ‰ä¸€å€‹æ•¸å­¸æ©Ÿå™¨åªè¦å‚³çµ¦ä»–å…©å€‹æ•¸å­—ä»¥åŠä¸€å€‹æ•¸å­¸å…¬å¼\">âœ”ï¸ ä»¥ä¸‹ç·´ç¿’ä¸€å€‹ä¾‹å­, æœ‰ä¸€å€‹æ•¸å­¸æ©Ÿå™¨åªè¦å‚³çµ¦ä»–å…©å€‹æ•¸å­—ä»¥åŠä¸€å€‹æ•¸å­¸å…¬å¼<a href=\"2019/05/18/closure1#âœ”ï¸-ä»¥ä¸‹ç·´ç¿’ä¸€å€‹ä¾‹å­-æœ‰ä¸€å€‹æ•¸å­¸æ©Ÿå™¨åªè¦å‚³çµ¦ä»–å…©å€‹æ•¸å­—ä»¥åŠä¸€å€‹æ•¸å­¸å…¬å¼\"></a></h3><h3 id=\"é€™å°æ•¸å­¸æ©Ÿå™¨å°±æœƒæŠŠæ•¸å­—é…åˆå…¬å¼åšé‹ç®—-ä¸¦å°å‡ºä¾†\">é€™å°æ•¸å­¸æ©Ÿå™¨å°±æœƒæŠŠæ•¸å­—é…åˆå…¬å¼åšé‹ç®—, ä¸¦å°å‡ºä¾†<a href=\"2019/05/18/closure1#é€™å°æ•¸å­¸æ©Ÿå™¨å°±æœƒæŠŠæ•¸å­—é…åˆå…¬å¼åšé‹ç®—-ä¸¦å°å‡ºä¾†\"></a></h3><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// formula çš„ function type æ˜¯ (Int, Int) -&gt; Int</span></span><br><span class=\"line\"><span class=\"comment\">// æ‰€ä»¥å‚³éé€²ä¾†çš„ function æˆ– closure å‹åˆ¥é ˆç¬¦åˆ (Int, Int) -&gt; Int</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">mathMachine</span><span class=\"params\">(n1: Int, n2: Int, formula: <span class=\"params\">(Int, Int)</span></span></span> -&gt; <span class=\"type\">Int</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(formula(n1, n2))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h3 id=\"æ–¹æ³•ä¸€-ç”¨-Function-ç•¶åƒæ•¸å‚³é\">æ–¹æ³•ä¸€ : ç”¨ Function ç•¶åƒæ•¸å‚³é<a href=\"2019/05/18/closure1#æ–¹æ³•ä¸€-ç”¨-Function-ç•¶åƒæ•¸å‚³é\"></a></h3><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">sum</span><span class=\"params\">(num1: Int, num2: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num1 + num2</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>, formula: sum) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h3 id=\"æ–¹æ³•äºŒ-ç”¨-Closure-ç•¶åƒæ•¸å‚³é\">æ–¹æ³•äºŒ : ç”¨ Closure ç•¶åƒæ•¸å‚³é<a href=\"2019/05/18/closure1#æ–¹æ³•äºŒ-ç”¨-Closure-ç•¶åƒæ•¸å‚³é\"></a></h3><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>, formula: &#123;(num1: <span class=\"type\">Int</span>, num2: <span class=\"type\">Int</span>) -&gt; <span class=\"type\">Int</span> <span class=\"keyword\">in</span> <span class=\"keyword\">return</span> num1 + num2 &#125;) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<p><strong>æ–¹æ³•äºŒçœ‹ä¼¼è·Ÿæ–¹æ³•ä¸€å·®ä¸å¤š</strong><br><strong>é€™æ™‚ closure è¦ç™¼æ®ç¥å¥‡çš„ç°¡åŒ–èªæ³•äº†</strong><br><strong>è®“æˆ‘å€‘ç¹¼çºŒçœ‹ä¸‹å»</strong></p>\n<br>\n\n<h1 id=\"â¬‡ï¸\">â¬‡ï¸<a href=\"2019/05/18/closure1#â¬‡ï¸\"></a></h1><br>\n## <u>1. Inferring parameter and return value types from context</u> \n#### å‚³å…¥çš„ function type å·²ç¶“ç¢ºç«‹æ˜¯ `(Int, Int) -> Int`, æ‰€ä»¥å‚³å…¥ closure çš„åƒæ•¸å‹åˆ¥å’Œè¿”å›å€¼çš„å‹åˆ¥éƒ½å¯ä»¥çœç•¥äº†\n\n<figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">mathMachine</span><span class=\"params\">(n1: Int, n2: Int, formula: <span class=\"params\">(Int, Int)</span></span></span> -&gt; <span class=\"type\">Int</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(formula(n1, n2))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>, formula: &#123; num1, num2 <span class=\"keyword\">in</span> <span class=\"keyword\">return</span> num1 + num2 &#125;) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h2 id=\"2-Implicit-return-from-single-expression-closures\"><u>2. Implicit return from single-expression closures</u><a href=\"2019/05/18/closure1#2-Implicit-return-from-single-expression-closures\"></a></h2><h4 id=\"å¦‚æœåªå‰©ä¸‹å–®ä¸€æ•˜è¿°å¥-return-é—œéµå­—ä¹Ÿå¯ä»¥çœç•¥äº†\">å¦‚æœåªå‰©ä¸‹å–®ä¸€æ•˜è¿°å¥ <code>return</code> é—œéµå­—ä¹Ÿå¯ä»¥çœç•¥äº†<a href=\"2019/05/18/closure1#å¦‚æœåªå‰©ä¸‹å–®ä¸€æ•˜è¿°å¥-return-é—œéµå­—ä¹Ÿå¯ä»¥çœç•¥äº†\"></a></h4><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">mathMachine</span><span class=\"params\">(n1: Int, n2: Int, formula: <span class=\"params\">(Int, Int)</span></span></span> -&gt; <span class=\"type\">Int</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(formula(n1, n2))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>, formula: &#123; num1, num2 <span class=\"keyword\">in</span> num1 + num2 &#125;) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h2 id=\"3-Shorthand-argument-names\"><u>3. Shorthand argument names</u><a href=\"2019/05/18/closure1#3-Shorthand-argument-names\"></a></h2><h4 id=\"å¯æŠŠåƒæ•¸åˆ—çœç•¥-ç”¨-0-1-æ›¿æ›æ‰åƒæ•¸-0ä»£è¡¨ç¬¬ä¸€å€‹åƒæ•¸-1ä»£è¡¨ç¬¬äºŒå€‹åƒæ•¸-ä»¥æ­¤é¡æ¨\">å¯æŠŠåƒæ•¸åˆ—çœç•¥, ç”¨ <code>$0</code>, <code>$1</code> æ›¿æ›æ‰åƒæ•¸, <code>$0</code>ä»£è¡¨ç¬¬ä¸€å€‹åƒæ•¸, <code>$1</code>ä»£è¡¨ç¬¬äºŒå€‹åƒæ•¸, ä»¥æ­¤é¡æ¨<a href=\"2019/05/18/closure1#å¯æŠŠåƒæ•¸åˆ—çœç•¥-ç”¨-0-1-æ›¿æ›æ‰åƒæ•¸-0ä»£è¡¨ç¬¬ä¸€å€‹åƒæ•¸-1ä»£è¡¨ç¬¬äºŒå€‹åƒæ•¸-ä»¥æ­¤é¡æ¨\"></a></h4><h4 id=\"è‹¥ä½¿ç”¨-shorthand-argument-names-in-é—œéµå­—å¯ä»¥å†çœç•¥\">è‹¥ä½¿ç”¨ shorthand argument names, <code>in</code> é—œéµå­—å¯ä»¥å†çœç•¥<a href=\"2019/05/18/closure1#è‹¥ä½¿ç”¨-shorthand-argument-names-in-é—œéµå­—å¯ä»¥å†çœç•¥\"></a></h4><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">mathMachine</span><span class=\"params\">(n1: Int, n2: Int, formula: <span class=\"params\">(Int, Int)</span></span></span> -&gt; <span class=\"type\">Int</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(formula(n1, n2))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>, formula: &#123; $<span class=\"number\">0</span> + $<span class=\"number\">1</span> &#125;) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h2 id=\"4-Trailing-closure-syntax\"><u>4. Trailing closure syntax</u><a href=\"2019/05/18/closure1#4-Trailing-closure-syntax\"></a></h2><h4 id=\"ç•¶-Closure-æ˜¯æœ€å¾Œä¸€å€‹åƒæ•¸è¢«å‚³é-å¤§æ‹¬è™Ÿ-Curly-Braces-å¯ç§»è‡³å°æ‹¬è™Ÿå¤–é¢-å¦‚æœä½¿ç”¨-trailing-closure-å¤–éƒ¨åƒæ•¸åå¯ä»¥å†çœç•¥\">ç•¶ Closure æ˜¯æœ€å¾Œä¸€å€‹åƒæ•¸è¢«å‚³é, å¤§æ‹¬è™Ÿ(Curly Braces) å¯ç§»è‡³å°æ‹¬è™Ÿå¤–é¢, å¦‚æœä½¿ç”¨  trailing closure, å¤–éƒ¨åƒæ•¸åå¯ä»¥å†çœç•¥<a href=\"2019/05/18/closure1#ç•¶-Closure-æ˜¯æœ€å¾Œä¸€å€‹åƒæ•¸è¢«å‚³é-å¤§æ‹¬è™Ÿ-Curly-Braces-å¯ç§»è‡³å°æ‹¬è™Ÿå¤–é¢-å¦‚æœä½¿ç”¨-trailing-closure-å¤–éƒ¨åƒæ•¸åå¯ä»¥å†çœç•¥\"></a></h4><figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">mathMachine</span><span class=\"params\">(n1: Int, n2: Int, formula: <span class=\"params\">(Int, Int)</span></span></span> -&gt; <span class=\"type\">Int</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(formula(n1, n2))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>) &#123; $<span class=\"number\">0</span> + $<span class=\"number\">1</span> &#125; <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n\n<h2 id=\"æ›´ç²¾ç°¡å¯«æ³•-Operator-Methods\"><mark>æ›´ç²¾ç°¡å¯«æ³• (Operator Methods)</mark><a href=\"2019/05/18/closure1#æ›´ç²¾ç°¡å¯«æ³•-Operator-Methods\"></a></h2><p><strong>ç•¶å‚³å…¥çš„ closure æœ‰å…©å€‹åƒæ•¸ä¸”é‹ç®—å­ç‚ºäºŒå…ƒé‹ç®—å­ (+ã€-ã€xã€Ã· â€¦ç­‰)</strong><br><strong>ä½¿ç”¨ç¬¬1ã€2ã€3æ­¥é©ŸåŒ–ç°¡å®Œ, <code>$0</code>, <code>$1</code> åƒæ•¸å¯å†çœç•¥</strong><br><u><strong>å¦‚æœå·²ç¶“ä½¿ç”¨ trailing closure å°±ä¸é©ç”¨é€™ä¸€æ­¥</strong></u></p>\n<figure class=\"highlight swift\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">mathMachine</span><span class=\"params\">(n1: Int, n2: Int, formula: <span class=\"params\">(Int, Int)</span></span></span> -&gt; <span class=\"type\">Int</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(formula(n1, n2))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mathMachine(n1: <span class=\"number\">5</span>, n2: <span class=\"number\">10</span>, formula: +) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></div></figure>\n\n<br>\n<br>\n\n<h3 id=\"ä¸‹ä¸€Part-å°‡ä½¿ç”¨é«˜éšå‡½æ•¸ä¾†ç·´ç¿’-Closure-åŒ–ç°¡\">ä¸‹ä¸€Part, å°‡ä½¿ç”¨é«˜éšå‡½æ•¸ä¾†ç·´ç¿’ Closure åŒ–ç°¡^_^<a href=\"2019/05/18/closure1#ä¸‹ä¸€Part-å°‡ä½¿ç”¨é«˜éšå‡½æ•¸ä¾†ç·´ç¿’-Closure-åŒ–ç°¡\"></a></h3>","prev":{"title":"Hello World","link":"2019/09/24/hello-world"},"plink":"http://yoursite.com/2019/05/18/closure1/","toc":[{"title":"Function è·Ÿ Closure èªæ³•ä¸Šçš„å·®åˆ¥","id":"Function-è·Ÿ-Closure-èªæ³•ä¸Šçš„å·®åˆ¥","index":"1","children":[{"title":"<mark> Function èªæ³• </mark>","id":"Function-èªæ³•","index":"1.1"},{"title":"<mark>Closure èªæ³•</mark>","id":"Closure-èªæ³•","index":"1.2","children":[{"title":"(å»æ‰ func é—œéµå­—, åç¨±, ç”¨å¤§æ‹¬è™Ÿæ‹¬èµ·ä¾†, ä»¥ in é—œéµå­—å€éš”)","id":"å»æ‰-func-é—œéµå­—-åç¨±-ç”¨å¤§æ‹¬è™Ÿæ‹¬èµ·ä¾†-ä»¥-in-é—œéµå­—å€éš”","index":"1.2.1"},{"title":"e.g.","id":"e-g","index":"1.2.2"},{"title":"å‘¼å« Function","id":"å‘¼å«-Function","index":"1.2.3"},{"title":"å°‡ Closure å‚³å…¥è®Šæ•¸å¾Œ, åƒ Function ä¸€æ¨£è¢«å‘¼å«, æœƒçœç•¥åˆ°å¤–éƒ¨å","id":"å°‡-Closure-å‚³å…¥è®Šæ•¸å¾Œ-åƒ-Function-ä¸€æ¨£è¢«å‘¼å«-æœƒçœç•¥åˆ°å¤–éƒ¨å","index":"1.2.4"},{"title":"â¬‡ï¸ Closure ç™¼æ®ç°¡åŒ–åŠŸåŠ›å¾ŒğŸ™€","id":"â¬‡ï¸-Closure-ç™¼æ®ç°¡åŒ–åŠŸåŠ›å¾ŒğŸ™€","index":"1.2.5"}]},{"title":"Closure å¯ä»¥è®“èªå¥å¯«æ³•æ›´ç°¡æ½”","id":"Closure-å¯ä»¥è®“èªå¥å¯«æ³•æ›´ç°¡æ½”","index":"1.3","children":[{"title":"âœ”ï¸ ä»¥ä¸‹ç·´ç¿’ä¸€å€‹ä¾‹å­, æœ‰ä¸€å€‹æ•¸å­¸æ©Ÿå™¨åªè¦å‚³çµ¦ä»–å…©å€‹æ•¸å­—ä»¥åŠä¸€å€‹æ•¸å­¸å…¬å¼","id":"âœ”ï¸-ä»¥ä¸‹ç·´ç¿’ä¸€å€‹ä¾‹å­-æœ‰ä¸€å€‹æ•¸å­¸æ©Ÿå™¨åªè¦å‚³çµ¦ä»–å…©å€‹æ•¸å­—ä»¥åŠä¸€å€‹æ•¸å­¸å…¬å¼","index":"1.3.1"},{"title":"é€™å°æ•¸å­¸æ©Ÿå™¨å°±æœƒæŠŠæ•¸å­—é…åˆå…¬å¼åšé‹ç®—, ä¸¦å°å‡ºä¾†","id":"é€™å°æ•¸å­¸æ©Ÿå™¨å°±æœƒæŠŠæ•¸å­—é…åˆå…¬å¼åšé‹ç®—-ä¸¦å°å‡ºä¾†","index":"1.3.2"},{"title":"æ–¹æ³•ä¸€ : ç”¨ Function ç•¶åƒæ•¸å‚³é","id":"æ–¹æ³•ä¸€-ç”¨-Function-ç•¶åƒæ•¸å‚³é","index":"1.3.3"},{"title":"æ–¹æ³•äºŒ : ç”¨ Closure ç•¶åƒæ•¸å‚³é","id":"æ–¹æ³•äºŒ-ç”¨-Closure-ç•¶åƒæ•¸å‚³é","index":"1.3.4"}]}]},{"title":"â¬‡ï¸","id":"â¬‡ï¸","index":"2","children":[{"title":"<u>2. Implicit return from single-expression closures</u>","id":"2-Implicit-return-from-single-expression-closures","index":"2.1"},{"title":"<u>3. Shorthand argument names</u>","id":"3-Shorthand-argument-names","index":"2.2"},{"title":"<u>4. Trailing closure syntax</u>","id":"4-Trailing-closure-syntax","index":"2.3"},{"title":"<mark>æ›´ç²¾ç°¡å¯«æ³• (Operator Methods)</mark>","id":"æ›´ç²¾ç°¡å¯«æ³•-Operator-Methods","index":"2.4","children":[{"title":"ä¸‹ä¸€Part, å°‡ä½¿ç”¨é«˜éšå‡½æ•¸ä¾†ç·´ç¿’ Closure åŒ–ç°¡^_^","id":"ä¸‹ä¸€Part-å°‡ä½¿ç”¨é«˜éšå‡½æ•¸ä¾†ç·´ç¿’-Closure-åŒ–ç°¡","index":"2.4.1"}]}]}]}